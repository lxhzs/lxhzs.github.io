<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="description"><meta name="keyword"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>H5中 video标签的使用</title><link rel="shortcut icon" href="/images/avatar.jpg" type="image/x-icon"><link href="/styles/site.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><body></body><header class="container" id="header"><div class="header"><div class="header-left"><div class="avatar"><img src="/images/avatar.jpg"></div><div class="author"><div class="author-name"><a href="/">Ryan's Blog</a></div><div class="about-me">大家好，我叫李新华。我的域名是“李新华真帅”。</div></div></div><div class="header-right"><ul class="navigation"><li><a href="/"><i class="fa fa-fw fa-home"> </i><br>首页</a></li><li><a href="/"><i class="fa fa-fw fa-book"> </i><br>博客</a></li><li><a href="/archives"><i class="fa fa-fw fa-archive"> </i><br>归档</a></li><li><a href="/categories"><i class="fa fa-fw fa-th"> </i><br>分类</a></li><li><a href="/tags"><i class="fa fa-fw fa-tags"> </i><br>标签</a></li><li><a href="/life"><i class="fa fa-fw fa-heart"> </i><br>生活</a></li><li><a href="/about"><i class="fa fa-fw fa-user"> </i><br>关于</a></li></ul></div><div class="about-me-mask"><div class="about-me-wrap"><div class="about-me__header"><div class="avatar"><img src="/images/avatar.jpg"></div></div><ul class="socials"><li class="social-item"><span class="label"><img src="/images/socials/github.svg" alt="https://github.com/gary-Shen"></span><a href="https://github.com/gary-Shen" target="_blank" title="https://github.com/gary-Shen">https://github.com/gary-Shen</a></li><li class="social-item"><span class="label"><img src="/images/socials/email.svg" alt="guanlinshen@126.com"></span><span>guanlinshen@126.com</span></li><li class="social-item"><span class="label"><img src="/images/socials/wechat.svg" alt="Grinson"></span><span>Grinson</span></li></ul></div></div></div></header><div class="container post"><section class="article"><div class="title">H5中 video标签的使用</div><div class="date">写于2017年09月17日</div><div class="content"><h2 id="css方面"><a class="header-anchor" href="#css方面"></a>css方面</h2>
<h3 id="1-强制文本换行"><a class="header-anchor" href="#1-强制文本换行"></a>1.强制文本换行</h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">word-wrap</span>: <span class="selector-tag">break-word</span>; </span><br><span class="line"><span class="selector-tag">word-break</span>: <span class="selector-tag">normal</span>;</span><br></pre></td></tr></table></figure>
<h3 id="2-h5-video标签"><a class="header-anchor" href="#2-h5-video标签"></a>2.H5 video标签</h3>
<h4 id="video-标签的属性"><a class="header-anchor" href="#video-标签的属性"></a>video 标签的属性</h4>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    src="Comp%201_1_2.mp4"    视频路径</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    controls = "true"         是否显示滚动条</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    preload="auto"            页面加载时进行加载，并预备播放。</span></span><br><span class="line"><span class="comment">                              如果使用 "autoplay"，则忽略该属性。</span></span><br><span class="line"><span class="comment">                              </span></span><br><span class="line"><span class="comment">    width="100%"              设置视频的显示宽度，设置一个值，</span></span><br><span class="line"><span class="comment">                              高度会根据比例进行缩放</span></span><br><span class="line"><span class="comment">                              </span></span><br><span class="line"><span class="comment">    autoplay                  视频在就绪后马上播放。</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    loop                      循环播放</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    muted                     视频的音频输出应该被静音。</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    poster                    视频点击播放之前，预览图</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    playsinline               禁止视频自动全屏</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    webkit-playsinline        苹果系统禁止视频自动全屏</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h4 id="media方法和属性"><a class="header-anchor" href="#media方法和属性"></a>Media方法和属性</h4>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Media = <span class="built_in">document</span>.getElementById(<span class="string">"media"</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.error;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">null:正常</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.error.code;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.用户终止 </span><br><span class="line">2.网络错误 </span><br><span class="line">3.解码错误 </span><br><span class="line">4.URL无效</span><br></pre></td></tr></table></figure>
<h5 id="网络状态"><a class="header-anchor" href="#网络状态"></a>网络状态</h5>
<ul>
<li>Media.currentSrc;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">返回当前资源的URL</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.src = value;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">返回或设置当前资源的URL</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.canPlayType(type);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否能播放某种格式的资源</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.networkState;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0.此元素未初始化 </span><br><span class="line">1.正常但没有使用网络 </span><br><span class="line">2.正在下载数据 </span><br><span class="line">3.没有找到资源</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.load();</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">重新加载src指定的资源</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.buffered;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">返回已缓冲区域，TimeRanges</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.preload;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">none:不预载 </span><br><span class="line">metadata:预载资源信息 </span><br><span class="line">auto:</span><br></pre></td></tr></table></figure>
<h5 id="准备状态"><a class="header-anchor" href="#准备状态"></a>准备状态</h5>
<ul>
<li>Media.readyState;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1:HAVE_NOTHING </span><br><span class="line">2:HAVE_METADATA </span><br><span class="line">3.HAVE_CURRENT_DATA </span><br><span class="line">4.HAVE_FUTURE_DATA </span><br><span class="line">5.HAVE_ENOUGH_DATA</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.seeking;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否正在seeking</span><br></pre></td></tr></table></figure>
<h5 id="回放状态"><a class="header-anchor" href="#回放状态"></a>回放状态</h5>
<ul>
<li>Media.currentTime = value;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当前播放的位置，赋值可改变位置</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.startTime;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一般为0，如果为流媒体或者不从0开始的资源，则不为0</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.duration;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当前资源长度 流返回无限</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.paused;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否暂停</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.defaultPlaybackRate = value;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">默认的回放速度，可以设置</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.playbackRate = value;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当前播放速度，设置后马上改变-</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.played;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">返回已经播放的区域，TimeRanges，关于此对象见下文</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.seekable;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">返回可以seek的区域 TimeRanges</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.ended;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否结束</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.autoPlay;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否自动播放</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.loop;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否循环播放</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.play();</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">播放</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.pause();</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">暂停</span><br></pre></td></tr></table></figure>
<h5 id="视频控制"><a class="header-anchor" href="#视频控制"></a>视频控制</h5>
<ul>
<li>Media.controls;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是否有默认控制条</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.volume = value;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">音量</span><br></pre></td></tr></table></figure>
<ul>
<li>Media.muted = value;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">静音</span><br></pre></td></tr></table></figure>
<ul>
<li>TimeRanges.length;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">区域段数</span><br></pre></td></tr></table></figure>
<ul>
<li>TimeRanges.start(index)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">第index段区域的开始位置</span><br></pre></td></tr></table></figure>
<ul>
<li>TimeRanges.end(index)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">第index段区域的结束位置</span><br></pre></td></tr></table></figure>
<h5 id="相关事件"><a class="header-anchor" href="#相关事件"></a>相关事件</h5>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> eventTester = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    Media.addEventListener(e,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log((<span class="keyword">new</span> <span class="built_in">Date</span>()).getTime(),e)</span><br><span class="line">    &#125;,<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“loadstart”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端开始请求数据</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“progress”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端正在请求数据</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“suspend”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">延迟下载</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“abort”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端主动终止下载（不是因为错误引起）</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“loadstart”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端开始请求数据</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“progress”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端正在请求数据</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“suspend”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">延迟下载</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“abort”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端主动终止下载（不是因为错误引起），</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“error”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请求数据时遇到错误</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“stalled”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">网速失速</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“play”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">play()和autoplay开始播放时触发</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“pause”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pause()触发</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“loadedmetadata”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">成功获取资源长度</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“loadeddata”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">页面加载时进行加载，并预备播放。</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“waiting”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">等待数据，并非错误</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“playing”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">开始回放</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“canplay”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">可以播放，但中途可能因为加载而暂停</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“canplaythrough”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">可以播放，歌曲全部加载完毕</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“seeking”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">寻找中</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“seeked”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">寻找完毕</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“timeupdate”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">播放时间改变</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“ended”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">播放结束</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“ratechange”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">播放速率改变</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“durationchange”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">资源长度改变</span><br></pre></td></tr></table></figure>
<ul>
<li>eventTester(“volumechange”);</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">音量改变</span><br></pre></td></tr></table></figure>
<h2 id="js方面"><a class="header-anchor" href="#js方面"></a>js方面</h2>
<h3 id="1-addeventlistener-监听事件"><a class="header-anchor" href="#1-addeventlistener-监听事件"></a>1. addEventListener 监听事件</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">"touchstart"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 监听btn这个按钮 touch事件</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="2-封装一个简单的动画函数"><a class="header-anchor" href="#2-封装一个简单的动画函数"></a>2. 封装一个简单的动画函数</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(temp==<span class="number">0</span>)&#123;</span><br><span class="line">    temp = <span class="number">-100</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(temp = <span class="number">-100</span>)&#123;</span><br><span class="line">    temp = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">box.style.transform=<span class="string">"translateX("</span>+temp+<span class="string">"px)"</span>;</span><br><span class="line"><span class="comment">// 让这个box盒子一步步的水平移动</span></span><br></pre></td></tr></table></figure>
<h3 id="3-数组字典概念"><a class="header-anchor" href="#3-数组字典概念"></a>3. 数组字典概念</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrs = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将要动态改变的路径以对象的形式存到数组中</span></span><br><span class="line"><span class="keyword">var</span> videoList = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">"臀部清洗"</span>,</span><br><span class="line">        videoUrl:<span class="string">"res/video/臀部清洗_1.mp4"</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// videoList中的name和videoUrl以key value的形式存放到字典中</span></span><br><span class="line"><span class="comment">// arrs中就将name 和 videoUrl关联了</span></span><br><span class="line">arrs[videoList[i].name] = videoList[i].videoUrl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后面动态改变的地址，就 通过创建的 字典 ，找他的key 就能关联到他的videoUrl</span></span><br><span class="line"><span class="keyword">var</span> url = arrs[key];</span><br></pre></td></tr></table></figure>
<h3 id="4-设置一个定时器"><a class="header-anchor" href="#4-设置一个定时器"></a>4. 设置一个定时器</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str = getTime();</span><br><span class="line">    box.innerHTML = str;</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h3 id="5-枚举的概念与运用"><a class="header-anchor" href="#5-枚举的概念与运用"></a>5. 枚举的概念与运用</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个对象</span></span><br><span class="line"><span class="keyword">var</span> TYPE = &#123;</span><br><span class="line">    TYPE_DEFURAL:<span class="number">0</span>,</span><br><span class="line">    TYPE_VIDEO:<span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="6-每次加载前视频预加载"><a class="header-anchor" href="#6-每次加载前视频预加载"></a>6. 每次加载前视频预加载</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-检测手机系统-进行适配"><a class="header-anchor" href="#7-检测手机系统-进行适配"></a>7. 检测手机系统 进行适配</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//检测手机系统</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> u = navigator.userAgent;</span><br><span class="line">    <span class="comment">//android终端</span></span><br><span class="line">    <span class="keyword">var</span> isAndroid = u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Adr'</span>) &gt; <span class="number">-1</span>;      </span><br><span class="line">    <span class="comment">//ios终端</span></span><br><span class="line">    <span class="keyword">var</span> isIOS = !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>);</span><br><span class="line">    <span class="comment">// 返回 IOS Android OS</span></span><br><span class="line">    <span class="keyword">return</span> isIOS === <span class="literal">true</span> ? <span class="string">'IOS'</span>:isAndroid === <span class="literal">true</span> ? <span class="string">'Android'</span>:<span class="string">'Other'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str;</span><br><span class="line">str = test();</span><br><span class="line">    <span class="keyword">switch</span> (str)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'Android'</span>:</span><br><span class="line">            Android();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'IOS'</span>:</span><br><span class="line">            IOS();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'Other'</span>:</span><br><span class="line">            Other();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行程序</span></span><br><span class="line">    loadModelToView();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 每个系统所要做的事情</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IOS</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    homeVideo.style.width = <span class="built_in">window</span>.innerWidth+<span class="string">"px"</span>;</span><br><span class="line">    homeVideo.style.height = <span class="built_in">window</span>.innerHeight+<span class="string">"px"</span>;</span><br><span class="line">    homeVideo.style.objectFit = <span class="string">"fill"</span>;</span><br><span class="line">    homeVideo.setAttribute(<span class="string">"playsinline"</span>,<span class="string">'true'</span>);</span><br><span class="line">    homeVideo.setAttribute(<span class="string">"webkit-playsinline"</span>,<span class="string">'true'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Android</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    homeVideo.style.width = <span class="built_in">window</span>.innerWidth+<span class="string">"px"</span>;</span><br><span class="line">    homeVideo.style.height = <span class="built_in">window</span>.innerHeight+<span class="string">"px"</span>;</span><br><span class="line">    homeVideo.style.objectFit = <span class="string">"fill"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Other</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Android();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="toc-article" id="toc"><div class="toc-title"></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#css方面"><span class="toc-text">css方面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-强制文本换行"><span class="toc-text">1.强制文本换行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-h5-video标签"><span class="toc-text">2.H5 video标签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#video-标签的属性"><span class="toc-text">video 标签的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#media方法和属性"><span class="toc-text">Media方法和属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#网络状态"><span class="toc-text">网络状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#准备状态"><span class="toc-text">准备状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#回放状态"><span class="toc-text">回放状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#视频控制"><span class="toc-text">视频控制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#相关事件"><span class="toc-text">相关事件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js方面"><span class="toc-text">js方面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-addeventlistener-监听事件"><span class="toc-text">1. addEventListener 监听事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-封装一个简单的动画函数"><span class="toc-text">2. 封装一个简单的动画函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-数组字典概念"><span class="toc-text">3. 数组字典概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-设置一个定时器"><span class="toc-text">4. 设置一个定时器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-枚举的概念与运用"><span class="toc-text">5. 枚举的概念与运用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-每次加载前视频预加载"><span class="toc-text">6. 每次加载前视频预加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-检测手机系统-进行适配"><span class="toc-text">7. 检测手机系统 进行适配</span></a></li></ol></li></ol></div><p class="ending">本篇完</p><div class="tags"><a class="tag-link" href="/tags/HTML5/">HTML5</a><a class="tag-link" href="/tags/Video方法/">Video方法</a><a class="tag-link" href="/tags/Video标签/">Video标签</a></div></section></div><div id="articleMenu"><i class="fa fa-list iconColor"></i></div><div class="container"><ul class="nav"><li>上一篇：<a href="/2018/09/12/JS-基础知识-入门篇/">JS 基础知识-入门篇</a></li><li>下一篇：<a href="/2016/07/22/JS实现继承的方式/">JS实现继承的方式</a></li></ul></div><div id="backToTop"><div class="back-arrow back-arrow-left"></div><div class="back-arrow back-arrow-right"></div></div><footer class="container"><div class="rights"><span>© 2018 </span><i class="fa fa-heartbeat iconColor"> </i><span>Ryan </span></div></footer><canvas id="canvas"></canvas><script src="/script/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/script/index.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-61220413-1', 'auto');
ga('send', 'pageview');</script><script src="/script/post.js"></script></head></html>